(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,n){e.exports=n(48)},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(18),i=n(22),l=n(12),c=n(10),s=n(20),u=n(13),d={grid:[],events:[],info:{}},m=-1,h=function(e,t){var n=new Date(e),a=new Date(t),r=52*(n.getFullYear()-a.getFullYear());return a.setFullYear(n.getFullYear()),r+=Math.floor((n.getTime()-a.getTime())/6048e5)},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_EVENT":var n=Object(u.a)({},e);if(e===d)return console.log("complete registration"),e;var a=h(t.payload.date,n.info.birthdate);if(a>=e.info.lastweek||a<0)return console.log("haha you cant hack me"),e;var r={id:++m,name:t.payload.name,date:t.payload.date,color:t.payload.color,week:a};return n.events.push(r),console.log("event added",r),n.grid[a].events.push(m),n;case"CREATE_GRID":return function(e){var t,n={grid:[],events:[],info:e},a=52*e.lifespan;n.info.lastweek=a;var r=h(Date.now(),e.birthdate);for(t=0;t<a;++t){var o={class:"eventbox tooltip ",color:"",events:[],tooltiptext:"week : "+t+" \n"};t==r&&(o.class+="present "),t<r?o.class+="past ":t>r&&(o.class+="future "),t%52===0&&(o.class+="birthday ",o.tooltiptext+=t<r?"you became "+t/52+"\n":"you will be "+t/52+"\n"),n.grid.push(o)}return n}(t.payload);default:return e}},p=n(2),v=n(3),b=n(5),g=n(4),E=n(6),j=n(14),O=function(e){return{type:"ADD_EVENT",payload:e}},y=function(e){return{type:"CREATE_GRID",payload:e}},w=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(b.a)(this,Object(g.a)(t).call(this,e))).handleChange=function(e){e.preventDefault();var t=e.target.name,a=e.target.value;n.setState({form:Object(u.a)({},n.state.form,Object(j.a)({},t,a))})},n.handleSubmit=function(e){e.preventDefault(),n.props.dispatch(y(n.state.form)),n.props.redirect()},n.state={form:{username:"dhruv",birthdate:"1998-05-15",lifespan:100}},n}return Object(E.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",null,r.a.createElement("label",null,"Username"),r.a.createElement("input",{type:"text",name:"username",value:this.state.form.username,onChange:this.handleChange})),r.a.createElement("div",null,r.a.createElement("label",null,"Birthdate"),r.a.createElement("input",{type:"date",name:"birthdate",value:this.state.form.birthdate,onChange:this.handleChange})),r.a.createElement("div",null,r.a.createElement("label",null,"lifespan"),r.a.createElement("input",{type:"number",name:"lifespan",value:this.state.form.lifespan,onChange:this.handleChange})),r.a.createElement("input",{id:"submit",type:"submit"})))}}]),t}(a.Component),C=Object(c.b)()(w),k=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(b.a)(this,Object(g.a)(t).call(this,e))).redirect=function(){n.setState({redirecttohome:!0})},n.state={redirecttohome:!1},n}return Object(E.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return!0===this.state.redirecttohome?r.a.createElement(l.a,{to:"/home"}):r.a.createElement("div",{className:"register-page"},r.a.createElement(C,{redirect:this.redirect}))}}]),t}(a.Component),D=(n(43),function(e){function t(){return Object(p.a)(this,t),Object(b.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props.data.class,t=this.props.data.tooltiptext,n={background:""};return t+=this.props.eventdata.map(function(e){if(e)return e.date+":"+e.name+"\n"}),this.props.eventdata.length>0&&(this.props.eventdata.length>1?e+="multi-event ":(e+="single-event ",n.background=this.props.eventdata[0].color)),console.log("eventbox=rendered"),r.a.createElement("div",{className:e,style:n},r.a.createElement("div",{className:"tooltiptext"},t))}}]),t}(a.Component)),N=function(e,t){return t.map(function(t){return e[t]})},S=Object(c.b)(function(e,t){return{eventdata:N(e.events,t.data.events)}})(D),x=(n(44),function(e){function t(){return Object(p.a)(this,t),Object(b.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){console.log("grid=rendered");var e=this.props.grid.map(function(e,t){return r.a.createElement(S,{key:t,data:e})});return r.a.createElement("div",{className:"grid-box"},e)}}]),t}(a.Component)),A=Object(c.b)(function(e){return{grid:e.grid}},null)(x),T=(n(45),function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(b.a)(this,Object(g.a)(t).call(this,e))).handleChange=function(e){e.preventDefault();var t=e.target.name,a=e.target.value;n.setState({form:Object(u.a)({},n.state.form,Object(j.a)({},t,a))})},n.handleSubmit=function(e){e.preventDefault(),n.props.dispatch(O(n.state.form))},n.state={form:{name:"",date:"",color:"#ffffff"}},n}return Object(E.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{className:"add-event",onSubmit:this.handleSubmit},r.a.createElement("div",null,r.a.createElement("h3",null,"Add event")),r.a.createElement("div",null,r.a.createElement("label",null,"Name"),r.a.createElement("input",{type:"text",name:"name",value:this.state.form.name,onChange:this.handleChange})),r.a.createElement("div",null,r.a.createElement("label",null,"Date"),r.a.createElement("input",{type:"date",name:"date",value:this.state.form.date,onChange:this.handleChange})),r.a.createElement("div",null,r.a.createElement("label",null,"Color"),r.a.createElement("input",{type:"color",name:"color",value:this.state.form.color,onChange:this.handleChange})),r.a.createElement("input",{id:"submit",type:"submit"})))}}]),t}(a.Component)),R=Object(c.b)()(T),W=(n(46),function(e){function t(){return Object(p.a)(this,t),Object(b.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"One-Page Journal"),r.a.createElement(R,null)),r.a.createElement(A,null))}}]),t}(a.Component)),J=(n(47),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function F(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var U=Object(s.b)(f);Object(o.render)(r.a.createElement(c.a,{store:U},r.a.createElement(i.a,null,r.a.createElement(l.b,{path:"/register",component:k}),r.a.createElement(l.b,{path:"/home",component:W}))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/onepageJournal",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/onepageJournal","/service-worker.js");J?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):F(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):F(t,e)})}}()}},[[29,1,2]]]);
//# sourceMappingURL=main.517618cf.chunk.js.map